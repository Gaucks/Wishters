{% trans_default_domain 'FOSUserBundle' %}

<div class="wishters-registration">

    <div class="register-header text-center">
        <h1>Wishters</h1>
        <p>Be better with others</p>
    </div>

    <form action="{{ path('fos_user_registration_register') }}" {{ form_enctype(form) }} method="POST" class="fos_user_registration_register">

        <div class="register-body">

            <div class="col-xs-12 col-md-4 col-md-offset-4">

                <div class="headline text-center">
                    <p>Une seule étape pour votre inscription</p>
                </div>

                <hr />

                {% if form_errors(form.username)|length > 0 %}{% set errors_username = 'has-error' %}{% else %} {% set errors_username = NULL %}{% endif %}
                <div class="form-group {{ errors_username }}">
                    {{ form_errors(form.username) }}
                    {{ form_widget(form.username,{'attr': {'class': 'form-control input-xs', 'placeholder': 'Nom d\'utilisateur'}}) }}
                    {% if(errors_username) %}
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    {% endif %}
                </div>

                {% if form_errors(form.email)|length > 0 %}{% set errors_email = 'has-error' %}{% else %} {% set errors_email = NULL %}{% endif %}
                <div class="form-group {{ errors_email }}">
                    {{ form_errors(form.email,{'attr': {'class': 'form-control input-xs'}}) }}
                    {{ form_widget(form.email,{'attr': {'class': 'form-control input-xs', 'placeholder': 'Adresse e-mail'}}) }}
                    {% if(errors_email) %}
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    {% endif %}
                </div>

                {% if form_errors(form.plainPassword.first)|length > 0 %}{% set errors_password1 = 'has-error' %}{% else %} {% set errors_password1 = NULL %}{% endif %}
                <div class="form-group {{ errors_password1 }}">
                    {{ form_errors(form.plainPassword.first) }}
                    {{ form_widget(form.plainPassword.first,{'attr': {'class': 'form-control input-xs', 'placeholder': 'Mot de passe'}}) }}
                    {% if(errors_password1) %}
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    {% endif %}
                </div>

                {% if form_errors(form.plainPassword.second)|length > 0 %}{% set errors_password2 = 'has-error' %}{% else %} {% set errors_password2 = NULL %}{% endif %}
                <div class="form-group {{ errors_password2 }}">
                    {{ form_errors(form.plainPassword.second) }}
                    {{ form_widget(form.plainPassword.second,{'attr': {'class': 'form-control input-xs', 'placeholder': 'Confirmation'}}) }}
                    {% if(errors_password2) %}
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    {% endif %}
                </div>

                {% if form_errors(form.region)|length > 0 %}{% set errors_region = 'has-error' %}{% else %} {% set errors_region = NULL %}{% endif %}
                <div class="form-group {{ errors_region }}">
                    {{ form_errors(form.region) }}
                    {{ form_widget(form.region,{'attr': {'class': 'form-control input-xs'}}) }}
                    {% if(errors_region) %}
                        <span class="glyphicon glyphicon-remove form-control-feedback"></span>
                    {% endif %}
                </div>

                {{ form_rest(form) }}

                <div>
                    <button type="submit" class="btn btn-wishters btn-radius-30 btn-block">{{ 'registration.submit'|trans }} <i class="fa fa-send pull-right"></i></button>
                </div>

                <hr>
                <div class="text-center already-registered">
                    <a href="{{ path('fos_user_security_login') }}">
                        Vous avez déja un compte? <strong> Connectez vous</strong>
                    </a>
                </div>

            </div>
            <div class="clearfix"></div>
        </div>
    </form>
</div>
</div>
